> [도커/쿠버네티스를 활용한 컨테이너 개발 실전 입문](http://www.yes24.com/Product/Goods/70893433)을 보고 정리한 내용입니다.


# 도커 이미지와 도커 컨테이너
```dockerfile
FROM golang:1.9

RUN mkdir /echo
COPY main.go /echo

CMD ["go", "RUN", "/echo/main.go"]
```
## 도커 이미지 

### FROM 인스트럭션
FROM 인스트럭션은 도커 이미지의 바탕이 될 베이스 이미지를 지정한다. Dockerfile로 이미지를 빌드할 때 먼저 FROM 인스트럭션에 지정된 이미지를 내려받는다. FROM에서 받아오는 도커 이미지는 도커 허브라는 레지스트리에 공개되오 있다. 

### RUN 인스트럭션
RUN 인스트럭션은 도커 이미지를 실행할 때 컨테이너 안에서 실행할 명령을 정의하는 인스트럭션이다. 인자로 도커 컨테이너 안에서 실행할 명령을 그대로 기술한다. 위 에제에서는 main.go 애플리케이션을 배치하기 위한 /echo 디렉터리를 mkdir 명령어로 만들었다

### COPY 인스트럭션
COPY 인스트럭션은 도커가 동작 중인 호스트 머신의 파일이나 디렉터리를 도커 컨테이너 안으로 복사하는 인스트럭션이다. 위 에제에서는 호스트에서 작성한 main.go 파일을 도커 컨테이너 안에서 실핼할 수 있도록 컨테이너 안으로 복사하는 데 이 인스트럭션을 사용했다. COPY와 비슷한 ADD가 있는데 용도가 다르다.

### CMD 인스트럭션
CMD 인스트럭션은 도커 컨테이너를 실행할 때 컨테이너 안에서 실행할 프로세스를 지정한다. **RUN 인스트럭션은 이미지를 빌드할 때 실행되고 CMD 인스트럭션은 컨테이너를 시작할 때 한 번 실행된다.** RUN은 애플리케이션 업데이트 및 배치에. CMD는 애플리케이션 자체를 실핼하는 명령이라고 생각하면 된다.

## 이미지 빌드하기
`docker image build` 명령으로 더커 이미지를 빌드한다. docker image build 명령은 도커 이미지를 빌드하기 위한 명령으로 기본 문법은 다음과 같다.

-t 옵션으로 이미지명을 지정한다. 태그명도 지정할 수 있으며, 생략 시에는 latest 태그가 붙는다.

```
$ docker image build -t example/echo:latest
```


